# Environment Settings for Application Configuration
APP_NAME=App Base
PORT=8080

# MongoDB Atlas connection
MONGODB_URI=mongodb+srv://username:password@cluster.example.mongodb.net/database-name?retryWrites=true&w=majority&appName=app-name

# Authentication Secrets (replace with your own secure random values)
ACCESS_TOKEN_SECRET=replace_with_random_generated_secret_at_least_32_chars_long
REFRESH_TOKEN_SECRET=replace_with_different_random_generated_secret_at_least_32_chars_long
ACCESS_TOKEN_EXPIRY=20m
REFRESH_TOKEN_EXPIRY=7d
NODE_ENV=development

# Cache Configuration
CACHE_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
CACHE_DEFAULT_TTL=3600  # seconds (1 hour default cache TTL)
CACHE_MAX_KEY_SIZE=10485760  # bytes (10MB maximum cache key size)
AUTOSAVE_TTL=1800  # seconds (30 minutes autosave TTL)

# File Upload Configuration
MAX_REQUEST_SIZE=500mb  # Maximum request payload size (controls file upload limit)

# Auto-save Persistence Configuration  
AUTOSAVE_PERSISTENCE_ENABLED=true
AUTOSAVE_PERSISTENCE_INTERVAL_SECONDS=30

# Cache Cleanup Configuration
CACHE_CLEANUP_ENABLED=true
CACHE_CLEANUP_INTERVAL_HOURS=24
CACHE_CLEANUP_MIN_AGE_HOURS=2
CACHE_CLEANUP_MAX_KEYS_PER_RUN=500

# Yjs Collaborative Editing Configuration
# MongoDB collection name for storing Yjs documents
YJS_COLLECTION_NAME=yjs-documents

# Number of updates to batch before flushing to persistence layer
YJS_FLUSH_SIZE=100

# Milliseconds to wait before persisting changes (debounce delay)
YJS_DEBOUNCE_DELAY=2000

# Redis Pub/Sub Scaling for Yjs (only enable for multi-server deployments)
# For single server + console setups, leave this disabled to reduce complexity
YJS_REDIS_ENABLED=false

# Redis key prefix for Yjs documents (required even if Redis disabled)
YJS_REDIS_PREFIX=yjs:

# Redis channel prefix for document synchronization (required even if Redis disabled)
YJS_REDIS_CHANNEL_PREFIX=yjs-doc:

# Logging Configuration
LOG_LEVEL=http
# Options: error, warn, info, http, verbose, debug, silly

# CORS Configuration (comma-separated list of allowed origins)
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:8082,http://localhost:8083,http://localhost:8088

# Email Configuration
EMAIL_ENABLED=true
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USER=your-email@example.com
EMAIL_PASS=your_email_password_or_app_password
EMAIL_FROM=noreply@example.com
APP_URL=http://localhost:8080

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=60000  # milliseconds (1 minute rate limit window)
RATE_LIMIT_MAX_REQUESTS=1000  # maximum requests per window
RATE_LIMIT_AUTH_WINDOW_MS=60000  # milliseconds (1 minute auth rate limit window)

# WebSocket Port for Yjs Collaboration (if using separate WebSocket server)
YJS_WEBSOCKET_PORT=1234

# File Compression Configuration
COMPRESSION_MIN_SIZE=1024  # bytes (1KB minimum file size for compression)
COMPRESSION_MIN_RATIO=0.05  # minimum compression ratio (5% space savings required)
BLOCKED_FILE_EXTENSIONS=.exe,.bat,.cmd,.scr,.vbs  # comma-separated list of blocked extensions (applies to both upload and create endpoints)
